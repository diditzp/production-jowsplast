{
    "elements": [
        {
            "elements": [{
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.IdGeneratorField",
                        "properties": {
                            "hidden": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "format": "JSP-OUT-??????",
                            "workflowVariable": "id_barang_keluar",
                            "envVariable": "counter",
                            "isDistributedGeneration": "",
                            "label": "ID Barang Keluar",
                            "id": "id_barang_keluar"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "multiple": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "label": "Channel",
                            "readonly": "",
                            "size": "",
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "options": [
                                {
                                    "label": "Offline",
                                    "value": "offline",
                                    "grouping": ""
                                },
                                {
                                    "label": "Shopee",
                                    "value": "shopee",
                                    "grouping": ""
                                },
                                {
                                    "label": "Tokopedia",
                                    "value": "tokopedia",
                                    "grouping": ""
                                },
                                {
                                    "label": "Tiktok",
                                    "value": "tiktok",
                                    "grouping": ""
                                },
                                {
                                    "label": "Lazada",
                                    "value": "lazada",
                                    "grouping": ""
                                }
                            ],
                            "workflowVariable": "",
                            "id": "channel",
                            "value": "",
                            "readonlyLabel": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "workflowVariable": "",
                            "id": "item_keluar_json",
                            "value": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "requiredSanitize": "",
                            "maxlength": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "label": "Order ID",
                            "encryption": "",
                            "readonly": "",
                            "size": "",
                            "workflowVariable": "",
                            "style": "",
                            "id": "order_id",
                            "placeholder": "",
                            "value": "",
                            "readonlyLabel": "",
                            "storeNumeric": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "yearRange": "c-10:c+10",
                            "dataFormat": "yyyy-MM-dd",
                            "startDateFieldId": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "format": "",
                            "label": "Tanggal Keluar",
                            "datePickerType": "dateTime",
                            "currentDateAs": "",
                            "endDateFieldId": "",
                            "readonly": "",
                            "allowManual": "",
                            "workflowVariable": "",
                            "id": "tanggal_keluar",
                            "placeholder": "",
                            "disableWeekends": "",
                            "value": "",
                            "readonlyLabel": "",
                            "format24hr": ""
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.FormGrid",
                        "properties": {
                            "validateMaxRow": "",
                            "formDefId": "item_keluar",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "pageSize": "20",
                            "requestParams": [],
                            "enableSorting": "",
                            "storeBinder": {
                                "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                                "properties": {
                                    "formDefId": "item_keluar",
                                    "foreignKey": "id_req_item_keluar"
                                }
                            },
                            "readonly": "",
                            "deleteGridData": "",
                            "options": [
                                {
                                    "format": "",
                                    "width": "",
                                    "label": "Nama SKU",
                                    "formatType": "text",
                                    "value": "nama_sku"
                                },
                                {
                                    "format": "",
                                    "width": "",
                                    "label": "Request pengeluaran",
                                    "formatType": "text",
                                    "value": "request_packing"
                                },
                                {
                                    "format": "",
                                    "width": "",
                                    "label": "Gudang",
                                    "formatType": "text",
                                    "value": "gudang"
                                }
                            ],
                            "id": "barang_keluar",
                            "abortRelatedRunningProcesses": "",
                            "height": "500",
                            "showRowNumber": "",
                            "disabledDelete": "",
                            "validateMinRow": "",
                            "submit-label-normal": "",
                            "uniqueKey": "",
                            "errorMessage": "Invalid number of rows",
                            "deleteSubformData": "",
                            "deleteMessage": "",
                            "label": "Barang Keluar",
                            "deleteFiles": "",
                            "loadBinder": {
                                "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                                "properties": {
                                    "formDefId": "item_keluar",
                                    "foreignKey": "id_req_item_keluar"
                                }
                            },
                            "disabledAdd": "",
                            "submit-label-readonly": "",
                            "width": "900",
                            "readonlyLabel": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "requiredSanitize": "",
                            "maxlength": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "label": "Nama Customer",
                            "encryption": "",
                            "readonly": "",
                            "size": "",
                            "workflowVariable": "",
                            "style": "",
                            "id": "nama_customer",
                            "placeholder": "",
                            "value": "",
                            "readonlyLabel": "",
                            "storeNumeric": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "requiredSanitize": "",
                            "readonly": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "workflowVariable": "",
                            "label": "Alamat Customer",
                            "id": "alamat_customer",
                            "placeholder": "",
                            "rows": "5",
                            "cols": "20",
                            "value": "",
                            "readonlyLabel": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "requiredSanitize": "",
                            "readonly": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "9493838b-6ffa-dbfe-fd86-99861dc57439": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "workflowVariable": "",
                            "label": "Catatan Request Packing",
                            "id": "catatanRequestBarangKeluar",
                            "placeholder": "",
                            "rows": "5",
                            "cols": "20",
                            "value": "",
                            "readonlyLabel": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "requiredSanitize": "true",
                            "autoPopulate": "",
                            "label": "",
                            "id": "field11",
                            "value": "<script>\n    $(document).ready(function() {\n       // ubah nama customer sesuai dengan channel yang dipilih\n       $('[name=channel]').on('change', function() {\n           var value = $('[name=channel] option:selected').text();\n           \n           if (!(value === 'Offline')) {\n               $('[name=nama_customer]').val(value);\n               $('[name=nama_customer]').css({'pointer-events':'none'});\n           } else {\n               $('[name=nama_customer]').val('');\n               $('[name=nama_customer]').css({'pointer-events':'auto'});\n           }\n       })\n    });\n<\/script>"
                        }
                    }
                ],
                "className": "org.joget.apps.form.model.Column",
                "properties": {"width": "100%"}
            }],
            "className": "org.joget.apps.form.model.Section",
            "properties": {
                "visibilityControl": "",
                "permissionHidden": "",
                "permissionReadonly": "",
                "permission_rules": {
                    "d294c7e3-566a-ff10-19d3-05ebc498b574": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "f340d885-0c29-9873-efe7-0fcd6b092e5a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "9493838b-6ffa-dbfe-fd86-99861dc57439": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {
                        "permissionHidden": "",
                        "readonly": "true"
                    }
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "label": "Form Barang Keluar",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityValue": "",
                "regex": "",
                "readonly": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "comment": "",
                "id": "form_barang_keluar",
                "join": "",
                "readonlyLabel": ""
            }
        },
        {
            "elements": [{
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "fullWidth": "",
                            "controlField": "",
                            "readonly": "",
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "options": [
                                {
                                    "label": "Jadi",
                                    "value": "jadi",
                                    "grouping": ""
                                },
                                {
                                    "label": "Gajadi",
                                    "value": "gajadi",
                                    "grouping": ""
                                }
                            ],
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "workflowVariable": "pickUp",
                            "label": "Pick Up",
                            "id": "pickUp",
                            "value": "",
                            "readonlyLabel": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "requiredSanitize": "",
                            "autoPopulate": "",
                            "permission_rules": {
                                "d294c7e3-566a-ff10-19d3-05ebc498b574": {},
                                "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                                "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                            },
                            "label": "",
                            "id": "field10",
                            "value": "<div id=\"printOptions\">\r\n    <!--<span class=\"print-button\" onclick=\"printPDF()\">Print as PDF<\/span>-->\r\n    <span class=\"print-button\">Print as PDF<\/span>\r\n<\/div>\r\n<iframe name='iframe' id=\"actionApprovalUser\" src=\"/jw/web/userview/stok_jsp/jsp_view1/_/detail_barang_keluar?embed=true&id_req_item_keluar=\" frameborder=\"0\" border=\"0\" cellspacing=\"0\" height=\"500px\" scrolling=\"yes\" style=\"border-style: none;width: 100%\"><\/iframe>\r\n\r\n<script>\r\n      $(document).ready(function(){\r\n    // Assuming this value is dynamically set\r\n    var recordId = '#process.recordId#';\r\n    \r\n    // Construct the new src URL by concatenating the recordId\r\n    var newSrc = \"/jw/web/userview/stok_jsp/jsp_view1/_/detail_barang_keluar?embed=true&id_req_item_keluar=\"+recordId;\r\n    \r\n    // Set the new src value to the iframe\r\n    document.getElementById(\"actionApprovalUser\").src = newSrc;\r\n    \r\n        const iframeContent;\r\n    \r\n        $('.print-button').on('click', function() {\r\n            printReport();\r\n        });\r\n        \r\n        $('#actionApprovalUser').on('load', function() {\r\n            // Get the iframe document's content\r\n            iframeContent = $(this).contents().find('body').html();\r\n            \r\n            // Print or process the content as needed\r\n            console.log(iframeContent); // This logs the HTML content inside the iframe\r\n        });\r\n        \r\n          \r\n        function printReport() {\r\n            var printContents = $('#approval_pickup').html();\r\n            const iframe = document.createElement('iframe');\r\n            document.body.appendChild(iframe);\r\n            const doc = iframe.contentWindow.document;\r\n            doc.open();\r\n            doc.write('<html><head><title>Surat Jalan<\/title>');\r\n            doc.write('<style>body { font-size: 12px; }<\/style><\/head><body>');\r\n            doc.write(iframeContent);\r\n            doc.write('<\/body><\/html>');\r\n            doc.close();\r\n            iframe.contentWindow.focus();\r\n            iframe.contentWindow.print();\r\n            document.body.removeChild(iframe);\r\n        }\r\n      })\r\n<\/script>"
                        }
                    }
                ],
                "className": "org.joget.apps.form.model.Column",
                "properties": {"width": "100%"}
            }],
            "className": "org.joget.apps.form.model.Section",
            "properties": {
                "visibilityControl": "",
                "permissionHidden": "true",
                "permissionReadonly": "",
                "permission_rules": {
                    "d294c7e3-566a-ff10-19d3-05ebc498b574": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "f340d885-0c29-9873-efe7-0fcd6b092e5a": {},
                    "9493838b-6ffa-dbfe-fd86-99861dc57439": {
                        "permissionHidden": "true",
                        "readonly": ""
                    },
                    "a935b3da-e24f-c0bd-37f9-ed3cb57c548f": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "label": "Approval PickUp",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityValue": "",
                "regex": "",
                "readonly": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "comment": "",
                "id": "approval_pickup",
                "join": "",
                "readonlyLabel": ""
            }
        }
    ],
    "className": "org.joget.apps.form.model.Form",
    "properties": {
        "noPermissionMessage": "",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "permission_rules": [
            {
                "permission_key": "f340d885-0c29-9873-efe7-0fcd6b092e5a",
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "return (\"#assignment.activityDefId#\".equalsIgnoreCase(\"approve_pickup_packing\"));"}
                },
                "permission_name": "Approve PickUp Packing"
            },
            {
                "permission_key": "a935b3da-e24f-c0bd-37f9-ed3cb57c548f",
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "return (\"#assignment.activityDefId#\".equalsIgnoreCase(\"approvePickup\"));"}
                },
                "permission_name": "PickUp"
            },
            {
                "permission_key": "d294c7e3-566a-ff10-19d3-05ebc498b574",
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "return (\"#assignment.activityDefId#\".equalsIgnoreCase(\"formPacking\"));"}
                },
                "permission_name": "Form Packing"
            }
        ],
        "name": "3-Form Keluar Barang",
        "description": "",
        "postProcessorRunOn": "create",
        "permission": {
            "className": "",
            "properties": {}
        },
        "id": "formKeluarBarang",
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "storeBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "tableName": "keluar_barang"
    }
}